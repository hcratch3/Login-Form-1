<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>QRCode　ツクール</title>
    <script src="./qrcode/qrcode.min.js"></script>
    <!-- <link rel="stylesheet" href="https://jenil.github.io/bulmaswatch/darkly/bulmaswatch.min.css" /> -->
</head>

<body>
    <div>
        <input style="margin-top: 10%;margin-left: 25%;width: 512px ;font-size:60px; text-align: center;" id="qrtext" oninput="generateQRCode()" autofocus="" placeholder="Type Something">
        <!-- <div style="padding-top: 20px;" id="qrcode"></div> -->
        <div style="padding-top: 10%;margin-left: 25%" id="qrcode" title="000000"><canvas width="512" height="512" style="display: none;"></canvas><img src="" style="display: block;"></div>
        <p>IDを忘れてしまった人＝＞<a href="./knownid.html">IDを再発行します。</a></p>
    </div>

    <script>
        function GetURLParam(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        var generateQRCode = (function () {
            if (GetURLParam("id")) {
                document.getElementById('qrtext').value = GetURLParam("id");
            } else {
                document.getElementById('qrtext').value = "000000"
            }
            var qrInput = document.getElementById('qrtext');
            var qrContainer = document.getElementById('qrcode');
            var qrCode = new QRCode(qrContainer, qrInput.value);

            function generateQRCode() {
                qrCode.clear();
                qrCode.makeCode(qrInput.value)
            }
            return generateQRCode;
        }())
    </script>


</body></html>
